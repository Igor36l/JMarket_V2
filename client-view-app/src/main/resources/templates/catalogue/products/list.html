<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Список товаров &ndash; JMarket</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
            integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
            integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
            crossorigin="anonymous"></script>
</head>
<body>

<div th:replace="catalogue/products/navigation :: nav"></div>

<div class="container text-center">
    <h1>Список товаров</h1>
    <div class="row row-cols-auto" >
    <div class="col" data-th-each="product : ${products}">
        <div class="card border-success mb-2" style=" width: 15rem; height: 28rem">
            <div class="col">
                <div class="card" >
                    <img data-th-each="img: ${product.imageFileName()}" class="card-img-top"
                         th:src="@{/imgs/{img}(img=${img})}" style="height: 10rem"
                         th:alt="Image"
                         th:onerror="'alert(\'Ошибка загрузки изображения\');'">
                    <div class="card-body">
                        <h5 class="card-title" data-th-text="${product.title}">Card title</h5>
                        <p class="card-text" data-th-text="${product.details()}" style="max-width: 20rem; height: 5rem">This is a longer card with supporting
                            text
                            below as a natural lead-in to additional content. This content is a little bit longer.</p>
                        <a data-th-href="@{/catalogue/products/{productId}(productId=${product.id})}"
                           class="btn btn-primary">Посмотреть товар</a>
                        <div class="card-footer bg-transparent border-success" data-th-text="${product.ownerProduct.vendorName()}">Footer</div>
                        <a data-th-text="'рейтинг товара '+${#numbers.formatDecimal(product.averageRating(),1,1)}"></a>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>
</div>
</body>
</html>